################################################################
# 
# Configuracao do Samba
#
# REVI-RIO
#
# Analista: Wellington Santos
# www.tribosys.com.br
#======================= Global Settings =======================

[global]
   workgroup = REVI-RIO
   netbios name = ferrari
   server string = Samba Server
   wins support = no
;   wins server = w.x.y.z
   dns proxy = no
;   name resolve order = lmhosts host wins bcast

#### Networking ####

;   interfaces = 127.0.0.0/8 eth0
;   bind interfaces only = yes

#### Debugging/Accounting ####
   log file = /var/log/samba/log.%m
   max log size = 50
#   syslog only = no
   syslog = 0
   panic action = /usr/share/samba/panic-action %d

   smb ports = 139 445

####### Authentication #######

   security = user
#   encrypt passwords = no
   encrypt passwords = true
#   passdb backend = tdbsam
   smb passwd file = /etc/samba/smbpasswd
#   obey pam restrictions = yes
   password level = 8
   username level = 8
   unix password sync = yes
   passwd program = /usr/bin/passwd %u
   passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .
#   pam password change = yes

########## Domains ###########

   domain logons = yes
   domain master = yes
   preferred master = yes
   local master = yes
   os level = 100
   guest account = nobody   
   admin users = administrador
   preserve case = yes
   short preserve case = yes
   default case = lower
   case sensitive = no
   update encrypted = yes
   dos charset = UTF-8
   unix charset = UTF-8
   debug level = 1
   logon script = %U.bat
   logon path = \\%N\profiles\%U
#   logon path = \\%N\%U\profiles
   logon drive = Z:
#   logon home = \\%N\%U
 add user script = /usr/sbin/adduser --quiet --disabled-password --gecos "" %u
 add machine script  = /usr/sbin/useradd -g machines -c "%u machine account" -d /var/lib/samba -s /bin/false %u
 add group script = /usr/sbin/addgroup --force-badname %g

########## Printing ##########

#   load printers = yes
;   printing = bsd
;   printcap name = /etc/printcap
;   printing = cups
;   printcap name = cups

############ Misc ############

;   include = /home/samba/etc/smb.conf.%m
socket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192
;   message command = /bin/sh -c '/usr/bin/linpopup "%f" "%m" %s; rm %s' &
   idmap uid = 10000-20000
   idmap gid = 10000-20000
   template shell = /bin/false
   winbind use default domain = no
;   winbind enum groups = yes
;   winbind enum users = yes
;   usershare max shares = 100

#======================= Share Definitions =======================

[homes]
   comment = Home Directories
   browseable = no
   writable = yes
   valid users = %S
   create mode = 0664
   directory mode = 0775

[netlogon]
   comment = Network Logon Service
   path = /linux/netlogon
   guest ok = yes
   read only = yes
   browseable=yes
   writable=yes
#   share modes = no

[profiles]
   comment = Diretorio de Profiles de Usuarios
   path = /linux/profiles
   guest ok = yes
   browseable = yes
   writable = yes
   create mask = 0600
   directory mask = 0700

[tmk]
     comment = Diretorio do Telemarketing
     path = /linux/revi-rio/tmk
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     valid users = @TMK,@ADMINISTRACAO

[financeiro]
     comment = Diretorio do Financeiro
     path = /linux/revi-rio/financeiro
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     valid users = @FINANCEIRO,@ADMINISTRACAO

[expedicao]
     comment = Diretorio da Expedicao
     path = /linux/revi-rio/expedicao
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     valid users = @EXPEDICAO,@ADMINISTRACAO

[faturamento]
     comment = Diretorio do Faturamento
     path = /linux/revi-rio/faturamento
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     valid users = @FATURAMENTO,@ADMINISTRACAO

[cobranca]
     comment = Diretorio da Cobranca
     path = /linux/revi-rio/cobranca
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     valid users = @COBRANCA,@ADMINISTRACAO

[ftp-cobranca]
     comment = Diretorio da Cobranca
     path = /linux/revi-rio/ftp-cobranca
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     valid users = @revi-rio

[ftp-advogado]
     comment = Diretorio da Advogado
     path = /linux/revi-rio/ftp-advogado
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     valid users = @revi-rio

[administracao]
     comment = Diretorio do Administrativo
     path = /linux/revi-rio/administracao
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
     #force group = %G
     #write list = @ADMINISTRACAO
     valid users = @ADMINISTRACAO

[dados]
     comment = Diretorio de Sistemas
     path = /linux/revi-rio/dados
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
#     valid users = 

[install]
     comment = Diretorio de Instalacoes
     path = /linux/revi-rio/install
     browseable = yes
     create mode = 0777
     directory mask = 0777
     guest ok = yes
     writable = yes
     force user = %U
 #    valid users = wellington
